<!DOCTYPE html>
<html lang="ja">
  <head>
    <link rel="stylesheet" type="text/css" href="main.css" />
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css" integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.2/styles/a11y-dark.min.css">
    <script type="text/javascript" src="./style.js"></script>
  </head>
  <body>
    <div id="header"><h1> ADCサンプル </h1></div>
    <div id="main">
			<h3>サーミスタ温度センサ</h3>
      温度センサ：<a href="http://wiki.seeedstudio.com/Grove-Temperature_Sensor_V1.2/">http://wiki.seeedstudio.com/Grove-Temperature_Sensor_V1.2/</a><br>
      <pre><code  class="ruby">
adc = ADC.new()
adc.ch(7)
temp = 0
while true
    adc.start
    a = adc.read_v
    adc.stop
    a = (3.3 / a)-1
    temp = 1.0/(Math.log(a)/4275+1/298.15)-273.15
    sleep(1)
    puts("ans:" + temp.to_s)
end
      </code></pre>

			<h3>ボリューム制御</h3>
			ボリュームを使用したLEDの明るさ制御<br>
			LED:<a href="https://www.switch-science.com/catalog/1251/">https://www.switch-science.com/catalog/1251/</a><br>
			ボリューム：<a href="https://www.switch-science.com/catalog/805/">https://www.switch-science.com/catalog/805/</a><br>
			<pre><code  class="ruby">
adc = ADC.new()
adc.ch(7)
PWM.new()
PWM.pin(16)
PWM.start(2)
PWM.cycle(0x95A,4)
while true
    adc.start
    a = adc.read_v
    adc.stop
    # adc値 × 100％ ÷ adcの最大値
    a = (a*100/3.3).to_i
    PWM.rate(a,2)
end
      </code></pre>
		</div>
		
		<div id="submenu">
      <div id="submenu_header">もくじ</div>
      <a href="./index.html">HOME</a>
      <ul id="submenu_body">
        <li>プログラム書き込み</li>
        <ul id="subuul">
          <li><a href="./ide_install.html">mruby/c IDEインストール</a></li>
          <li><a href="./write_program.html">PG書き込み</a></li>
        </ul>
        <li>ファームウェアアップデート</li>
        <ul id="subuul">
          <li><a href="./update.html">アップデート手順</a></li>
        </ul>
        <li>ボードの電気的仕様</li>
        <ul id="subuul">
          <li><a href="./pin.html">ピン配置等</a></li>
        </ul>
        <li>RBoardにおける各クラス</li>
        <ul id="subuul">
          <li><a href="https://github.com/YoshihiroOgura/pic32mx170_mrubyc/wiki/各クラス">各クラス</a></li>
        </ul>
        <li>サンプルプログラム</li>
        <ul id="subuul">
        <li><a href="./adc.html">ADCサンプル</a></li>
        <li><a href="./i2c.html">I2Cサンプル</a></li>
        <li><a href="./pwm.html">PWMサンプル</a></li>
        <li><a href="https://github.com/YoshihiroOgura/pic32mx170_mrubyc/wiki/UARTサンプル">UARTサンプル</a></li>
        <li><a href="https://github.com/YoshihiroOgura/pic32mx170_mrubyc/wiki/その他サンプル">その他サンプル</a></li>
        </ul>
      </ul>
    </div>
  </body>
</html>