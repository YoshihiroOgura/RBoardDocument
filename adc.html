---
title: ADCサンプル
layout: sample_default
---

<h3 class="link" id="adc_temperature">サーミスタ温度センサ</h3>
温度センサ：<a href="http://wiki.seeedstudio.com/Grove-Temperature_Sensor_V1.2/">http://wiki.seeedstudio.com/Grove-Temperature_Sensor_V1.2/</a><br>

<pre><code  class="ruby">
adc = ADC.new()
adc.ch(7)
temp = 0
while true
    adc.start
    a = adc.read_v
    adc.stop
    a = (3.3 / a)-1
    temp = 1.0/(Math.log(a)/4275+1/298.15)-273.15
    sleep(1)
    puts("ans:" + temp.to_s)
end
</code></pre>

<hr id="first_boader">
<h3 class="link" id="adc_potentiometer">ボリューム制御</h3>
ボリュームを使用したLEDの明るさ制御<br>
LED:<a href="https://www.switch-science.com/catalog/1251/">https://www.switch-science.com/catalog/1251/</a><br>
ボリューム：<a href="https://www.switch-science.com/catalog/805/">https://www.switch-science.com/catalog/805/</a><br>

<pre><code  class="ruby">
adc = ADC.new()
adc.ch(7)
PWM.new()
PWM.pin(16)
PWM.start(2)
PWM.cycle(0x95A,4)
while true
    adc.start
    a = adc.read_v
    adc.stop
    # adc値 × 100％ ÷ adcの最大値
    a = (a*100/3.3).to_i
    PWM.rate(a,2)
end
</code></pre>

<hr id="first_boader">
<h3 class="link" id="adc_joystick">ジョイスティック</h3>
ジョイスティック:<a href="https://www.switch-science.com/catalog/884/">https://www.switch-science.com/catalog/884/</a><br>

<pre><code  class="ruby">
adc = ADC.new()
adc.ch(7)
while true
  adc.ch(7)
  adc.start
  a = adc.read_v
  adc.stop
  adc.ch(6)
  adc.start
  b = adc.read_v
  adc.stop
  puts("x:"+a.to_s)
  puts("y:"+b.to_s)
  sleep_ms(300)
end
</code></pre>