<!DOCTYPE html>
<html lang="ja">
  <head>
	  <title>Cでプログラミング - RBoardDocument</title>
    <link rel="shortcut icon" href="./image/bug.ico">
	  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-176702602-1"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'UA-176702602-1');
    </script>
    <link rel="stylesheet" type="text/css" href="main.css" />
	  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css" integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.2/styles/a11y-dark.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.2/highlight.min.js"></script>
	  <script type="text/javascript" src="./style.js"></script>
	  <link href="https://use.fontawesome.com/releases/v5.11.0/css/all.css" rel="stylesheet">
  </head>
  <body>
		<div id="header"><h1> Cでプログラミング </h1></div>
    <div id="main">
			こちらを実行後、mruby/cでプログラムを書きたい場合は<a href="./update.html">アップデート手順</a>を実行
			<h2>準備</h2>
			<ul id="normal_li">
				<li><a href="https://www.microchip.com/mplab/mplab-x-ide">MPLAB X(またはMPLAB X IPE)</a>をインストール</li>
				<li><a href="https://www.microchip.com/mplab/compilers">XC32</a>をインストール(MPLAB Xを使用する場合)</li>
				<li><a href="http://akizukidenshi.com/catalog/g/gM-03608/">pickit3</a>、<a href="http://akizukidenshi.com/catalog/g/gM-13337/">pickit4</a>、<a href="https://akizukidenshi.com/catalog/g/gM-13854/">MPLAB Snap</a>のいずれかを購入</li>
				　⇒<a href="https://www.amazon.co.jp/dp/B01K26W8FQ/">pickit3の互換機,Snap</a>を使用して書き込む場合はUSBケーブルから電源を供給してください。
			</ul>
			<hr id="first_boader">
			<h2>新しいプロジェクトを作成</h2>
			<ol>
				<li>MPLAB Xを起動</li>
        <li>File ⇒ New Project…</li>
        <li>Standalone Projectを選択してNext ></li>
        <img src="./image/new_project1.png">
        <li>↓画面のように変更(PIC32MX170F256B)    Next ></li>
        <img src="./image/new_project2.png">
        <li>使用しているライターを選択してNext ></li>
        <img src="./image/new_project3.png">
        <li>使用するコンパイラ(XC32)を選択してNext ></li>
        <img src="./image/new_project4.png">
        <li>プロジェクト名を記入してFinich(ここではrboard_c_test)</li>
        <img src="./image/new_project5.png">
        <li></li>作成したプロジェクトのSource Filesを右クリックし、New ⇒ xc32_newfile.c…を選択</li>
        <img src="./image/new_project6.png">
        <li>ファイル名にmainと記入してFinich</li>
        <img src="./image/new_project7.png">
        <li>main.cに書かれている内容はすべて消してください。</li>
			</ol>
      <h2>プログラムを書いていく</h2>
      <ol>
        <li>Production ⇒ Set Configration Bitsを選択。</li>
        <li>設定内容を以下のように変更後に下にあるGenerate Source Code to Outputボタンをクリック</li>
        <img src="./image/new_project8.png">
        <li>コードが出てくるのですべてコピーしてmain.cへ貼り付け</li>
        <li>その下に下記コードを貼り付け。(1秒間隔のLチカプログラム)</li>
        <pre><code class="c">
// ms delay
void delay(int t){
    t = t*4000;
    while(t>0) {t--;}
}

int main(void){
    TRISA = 0x0;
    TRISB = 0x0;
    while(1){
        // led1 on
        PORTAbits.RA0 = 1;
        delay(1000);
        // led1 off
        PORTAbits.RA0 = 0;
        delay(1000);
    }
    return 0;
}
        </code></pre>
        <li>Production → Set Project Configration → Custamize...</li>
        <li>Conf:[default] → PICkit3など → Power でチェックを入れる。</li>
        <img src="./image/new_project9.png">
        <li>Apply → OK</li>
        <li>下記ボタンを押して書き込み</li>
        <img src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/195542/61fc508c-5cff-6cff-6868-38432416f67c.png">
      </ol>
    </div>

		<div id="submenu">
			<div id="submenu_header">もくじ</div>
      <ul id="submenu_body">
        <i class="fas fa-home"></i><a href="./index.html">HOME</a>
        <li><details>
          <summary>プログラム書き込み</summary>
          <ul id="subuul">
            <li><a href="./ide_install.html">mruby/c IDEインストール</a></li>
            <li><a href="./write_program.html">PG書き込み</a></li>
          </ul>
        </details></li>
        <li><details>
          <summary>ファームウェアアップデート</summary>
          <ul id="subuul">
            <li><a href="./update.html">アップデート手順</a></li>
          </ul>
        </details></li>
        <li><details>
          <summary>ボードの電気的仕様</summary>
          <ul id="subuul">
          <li><a href="./pin.html">ピン配置等</a></li>
          </ul>
        </details></li>
        <li><details>
          <summary>RBoardにおける各クラス</summary>
          <ul id="subuul">
            <li><a href="./class.html">各クラス</a></li>
            <li><a href="./mrubyc_class.html">mruby/c IO 各クラス</a></li>
          </ul>
        </details></li>
        <li><details>
          <summary>サンプルプログラム</summary>
          <ul id="subuul">
            <li><a href="./adc.html">ADCサンプル</a></li>
            <li><a href="./i2c.html">I2Cサンプル</a></li>
            <li><a href="./pwm.html">PWMサンプル</a></li>
            <li><a href="./uart.html">UARTサンプル</a></li>
            <li><a href="./etc.html">その他サンプル</a></li>
          </ul>
        </details></li>
        <li><details>
          <summary>その他</summary>
          <ul id="subuul">
            <li><a href="./console.html">ターミナルソフトの設定</a></li>
          </ul>
        </details></li>
      </ul>
	    <a href="https://www.rubyworld-conf.org/" target="_blank"><img src="rwc2020_banner_a02.png"></a>
    </div>
	</body>
</html>