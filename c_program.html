---
title: C言語でプログラミング
layout: default
---

こちらを実行後、mruby/cでプログラムを書きたい場合は<a href="./update.html">アップデート手順</a>を実行
<h2>準備</h2>
<ul id="normal_li">
  <li><a href="https://www.microchip.com/mplab/mplab-x-ide">MPLAB X</a>をインストール</li>
  <li><a href="https://www.microchip.com/mplab/compilers">XC32</a>をインストール(MPLAB Xを使用する場合)</li>
  <li><a href="http://akizukidenshi.com/catalog/g/gM-03608/">pickit3</a>、<a href="http://akizukidenshi.com/catalog/g/gM-13337/">pickit4</a>、<a href="https://akizukidenshi.com/catalog/g/gM-13854/">MPLAB Snap</a>のいずれかを購入</li>
  　⇒<a href="https://www.amazon.co.jp/dp/B01K26W8FQ/">pickit3の互換機</a>,<a href="http://akizukidenshi.com/catalog/g/gM-13337/">pickit4</a>、<a href="https://akizukidenshi.com/catalog/g/gM-13854/">MPLAB Snap</a>を使用して書き込む場合はUSBケーブルから電源を供給してください。
</ul>
<hr id="first_boader">
<h2>新しいプロジェクトを作成</h2>
<ol>
  <li>MPLAB Xを起動</li>
  <li>File ⇒ New Project…</li>
  <li>Standalone Projectを選択してNext ></li>
  <img src="./image/new_project1.png">
  <li>↓画面のように変更(PIC32MX170F256B)    Next ></li>
  <img src="./image/new_project2.png">
  <li>使用しているライターを選択してNext ></li>
  <img src="./image/new_project3.png">
  <li>使用するコンパイラ(XC32)を選択してNext ></li>
  <img src="./image/new_project4.png">
  <li>プロジェクト名を記入してFinich(ここではrboard_c_test)</li>
  <img src="./image/new_project5.png">
  <li></li>作成したプロジェクトのSource Filesを右クリックし、New ⇒ xc32_newfile.c…を選択</li>
  <img src="./image/new_project6.png">
  <li>ファイル名にmainと記入してFinich</li>
  <img src="./image/new_project7.png">
  <li>main.cに書かれている内容はすべて消してください。</li>
</ol>
<h2>プログラムを書いていく</h2>
<ol>
  <li>Production ⇒ Set Configration Bitsを選択。</li>
  <li>設定内容を以下のように変更後に下にあるGenerate Source Code to Outputボタンをクリック</li>
  <img src="./image/new_project8.png">
  <li>コードが出てくるのですべてコピーしてmain.cへ貼り付け</li>
  <li>その下に下記コードを貼り付け。(1秒間隔のLチカプログラム)</li>
  <pre><code class="c">
// ms delay
void delay(int t){
    t = t*4000;
    while(t>0) {t--;}
}

int main(void){
    TRISA = 0x0;
    TRISB = 0x0;
    while(1){
        // led1 on
        PORTAbits.RA0 = 1;
        delay(1000);
        // led1 off
        PORTAbits.RA0 = 0;
        delay(1000);
    }
    return 0;
}
  </code></pre>
  <li>Production → Set Project Configration → Custamize...</li>
  <li>Conf:[default] → PICkit3など → Power でチェックを入れる。</li>
  <img src="./image/new_project9.png">
  <li>Apply → OK</li>
  <li>下記ボタンを押して書き込み</li>
  <img src="https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/195542/61fc508c-5cff-6cff-6868-38432416f67c.png">
</ol>
