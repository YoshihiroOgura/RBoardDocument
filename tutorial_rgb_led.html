---
title: チュートリアル - フルカラーLED
layout: tutorial_default
---

<h3>必要部品一覧</h3>
<ul>
  <li><a href="https://akizukidenshi.com/catalog/g/gP-05294/">ブレッドボード</a></li>
  <li><a href="https://akizukidenshi.com/catalog/g/gC-05159/">ジャンパーワイヤ</a></li>
  <li><a href="https://akizukidenshi.com/catalog/g/gI-02476/">RGBLED</a>(カソードコモン)</li>
  <li><a href="https://akizukidenshi.com/catalog/g/gI-02476/">抵抗</a>(57Ω)</li>
</ul>
<hr id="first_boader">
<h3>RGBLEDについて</h3>
<ul id="content">
  赤、緑、青色のLEDを1つにまとめたLEDです。<br>
  種類としてアノードコモンとカソードコモンがあり、今回はカソードコモンを使用する。
  カソードコモンは下記図の様に3つのLEDのカソード(-)が一つの端子にまとめられた部品である。<br>
  <img src="https://lh3.googleusercontent.com/d/1g9tjcfzNxL0wycUSKQ2bnrcoThjuqw_g" class="expansion"><br>
  RGBの3色から様々な色を表現できるようになっている。<br>「<strong>光の三原色</strong>」<br>
  <img src="https://lh3.googleusercontent.com/d/1Mww_I-7mGhegY3gnoI6Ju5SNvdilGQ_E" class="expansion"><br>
</ul>
<hr id="first_boader">
<h3>RGBLED電子回路</h3>
データシートで確認すると、G,BのVFの値が3.6Vなのに対しRだけVFの値は2Vとなっている。
実測値で抵抗をつけなかった場合G,Bの電流値が10mA、Rは27mAでした。
Rへの電流値を10mAにするためオームの法則によって<br>
<strong>R = V / I = (3.3 - 2) / 0.01 = 130Ω</strong><br>
130Ωとなるが、実際はVFに幅がありドキュメントでもIF20mAの時VFは2~2.5Vと記載されていてかなりアバウトなので抵抗値もおよそそのあたりの値であれば問題は無い。
色々記載したが、今回は57Ωを使用する。<br>
回路図<br>
<img src="https://lh3.googleusercontent.com/d/1ERIwAxl8M5ur_9ZP8TThI83vbEuG06DW" class="expansion"><br>
ブレッドボード回路<br>
<img src="https://lh3.googleusercontent.com/d/1jDaetC3eXgLhARSV5cl1Vr0K-epI4FJX" class="expansion"><br>
<hr id="first_boader">
<h3>プログラム</h3>
1秒間隔で赤⇒紫(マゼンタ)⇒青を繰り返すプログラム
<pre><code  class="ruby">
LEDR = 15
LEDG = 16
LEDB = 17
pinMode(LEDR, 0)
pinMode(LEDG, 0)
pinMode(LEDB, 0)
while  true
  digitalWrite(LEDR, 1)
  sleep(1)
  digitalWrite(LEDB, 1)
  sleep(1)
  digitalWrite(LEDR, 0)
  sleep(1)
  digitalWrite(LEDB, 0)
end
</code></pre>
ピンの動作を設定するため<span style="background-color:rgb(206, 205, 205)">pinMode(ピン番号, 設定値)</span>を使用する。
設定値は0が出力モード(LEDなど)、1が入力モード(スイッチなど)となっている。
<hr id="first_boader">
<h3>例題：</h3>
<ul>
  <li>「緑色→黄色→赤色」の順に点灯させる</li>
  <div class="answer_box">
    <label for="led_ans1">answer ➡</label>
    <input type="checkbox" id="led_ans1"/>
    <div class="answer_show">  
      <pre><code  class="ruby">
LEDR = 15
LEDG = 16
LEDB = 17
pinMode(LEDR, 0)
pinMode(LEDG, 0)
pinMode(LEDB, 0)
while  true
  digitalWrite(LEDG, 1)
  sleep(1)
  digitalWrite(LEDR, 1)
  sleep(1)
  digitalWrite(LEDG, 0)
  sleep(1)
  digitalWrite(LEDR, 0)
end
      </code></pre>
    </div>
  </div>
  <li>LEDの明るさを落とす</li>
  <div class="answer_box">
    <label for="led_ans2">answer ➡</label>
    <input type="checkbox" id="led_ans2"/>
    <div class="answer_show">  
      <pre><code  class="ruby">
LEDR = 15
LEDG = 16
LEDB = 17
pinMode(LEDR, 0)
pinMode(LEDG, 0)
pinMode(LEDB, 0)
while  true
  digitalWrite(LEDR, 1)
  sleep(0.001)
  digitalWrite(LEDR, 0)
  sleep(0.001)
end
      </code></pre>
    </div>
  </div>
  <li>LEDの明るさが変化する(PWM)</li>
  <div class="answer_box">
    <label for="led_ans3">answer ➡</label>
    <input type="checkbox" id="led_ans3"/>
    <div class="answer_show">  
      <pre><code  class="ruby">
LEDG = 16
pinMode(LEDG, 0)
PWM.new()
PWM.pin(LEDG)
PWM.start(2)
PWM.cycle(0x95A,4)
while true
  for i in 0..100 do
    PWM.rate(i,2)
    sleep(0.03)
  end
end
      </code></pre>
    </div>
  </div>
</ul>