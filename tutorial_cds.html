---
title: チュートリアル - 光センサー
layout: tutorial_default
---

<h3>必要部品一覧</h3>
<ul>
  <li><a href="https://akizukidenshi.com/catalog/g/gI-00110/">CDSセル</a></li>
  <li><a href="https://akizukidenshi.com/catalog/g/gR-25103/">10kΩ抵抗</a></li>
</ul>
<hr id="first_boader">
<h3>CDSセルについて</h3>
CdS（硫化カドミウム）<br>
光で抵抗値が変化する半導体です。<br>
明るいときに抵抗値が小さくなり、暗いときに抵抗値は上がります。<br>
光電効果。
<hr id="first_boader">
<h3>抵抗分圧回路</h3>
CdSセルは明るさによって抵抗値が変化するセンサーなので下記の様な回路は使用できません。<br>
理由としてマイコンは基本的に電圧のみ測定できるからです。
<img src="https://lh3.googleusercontent.com/d/1jvyuYUVInVQvcoEWrjTNBPg9AovHp86T" class="expansion"><br>
これを回避するためには抵抗値を電圧値へ変換する回路が必要となります。<br>
その際に使用する回路が抵抗分圧です。
<img src="https://lh3.googleusercontent.com/d/11EMYKIb4-Jyoq8WORIITm7qtovee--iX" class="expansion"><br>
R1をCdSと仮定します。右は明るくなった場合(CdSの抵抗値が下がった場合)<br>
V1 = R2 ÷ ( R1 + R2 ) × 3.3V = 10 ÷ ( 10 + 10 ) × 3.3 = 1.65V<br>
V2 = R2 ÷ ( R1 + R2 ) × 3.3V = 10 ÷ ( 5 + 10 ) × 3.3 = 2.2V<br> 
上記式のようにR1の抵抗値が減るとマイコンに対する出力電圧は増加します。
<hr id="first_boader">
<h3>電子回路</h3>
回路図<br>
<img src="https://lh3.googleusercontent.com/d/18coRIB7IASEVBWuxOVFRGUBrSeqMjkBi" class="expansion"><br>
ブレッドボード回路図<br>
<img src="https://lh3.googleusercontent.com/d/1ZxYqt0XuojuweduDiXZVRh8b5kMj67U-" class="expansion"><br>
<hr id="first_boader">
<h3>プログラム</h3>
暗くなった場合にLED1を点灯させる
<pre><code  class="ruby">
LED1 = 0
ADC1 = 7
adc = ADC.new()
adc.ch(ADC1)
while true
  adc.start
  v = adc.read_v
  adc.stop
  if(v < 1.7)
    digitalWrite(LED1, 1)
  else
    digitalWrite(LED1, 0)
  end
end
</code></pre>