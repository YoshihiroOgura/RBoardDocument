---
title: チュートリアル - 圧電ブザー
layout: tutorial_default
---

<h3>必要部品一覧</h3>
<ul>
  <li><a href="https://www.switch-science.com/catalog/804/">GROVE圧電ブザー</a></li>
</ul>
<hr id="first_boader">
<h3>圧電ブザーについて</h3>
圧電ブザーに電圧を加える<br>
↓<br>
内部にある素子が変形する<br>
↓<br>
音(空気の振動)となる<br>
動作を繰り返す。<br>
<img src="https://lh3.googleusercontent.com/d/1xnLZB37qoBWkPCTXMQg7AyCunvjydLh1" class="expansion"><br>
<hr id="first_boader">
<h3>電子回路</h3>
Digitalと記載されているGROVEポートへ接続します。
<hr id="first_boader">
<h3>プログラム</h3>
ブザーを鳴らすプログラム
<pre><code  class="ruby">
BUZZER = 16
pinMode(BUZZER, 0)
digitalWrite(BUZZER, 1)
</code></pre>
音階を鳴らすプログラム<br>
音階:<a href="https://tomari.org/main/java/oto.html">https://tomari.org/main/java/oto.html</a>
<pre><code  class="ruby">
BUZZER = 16
pwm = PWM.new()
pwm.pin(BUZZER)
# 開始するチャンネル番号を指定
pwm.start(2)
while true
  # 周期を設定する。
  # ド:261Hz, 倍数16(4)
  # 1 ÷ 261 × 10000000 = 38314
  # 38314 ÷ 16 = 2394(0x95A)
  pwm.cycle(0x95A,4)
  sleep 1
  pwm.cycle(0x84D,4)
  sleep 1
  pwm.cycle(0x76A,4)
  sleep 1
  pwm.cycle(0x6EF,4)
  sleep 1
  pwm.cycle(0x639,4)
  sleep 1
  pwm.cycle(0x58C,4)
  sleep 1
  pwm.cycle(0x4F3,4)
  sleep 1
end
</code></pre>
<hr id="first_boader">
<h3>例題：</h3>
<ul>
  <li>一定時間ドアが空いていた場合にブザーを鳴らす。</li>
  閉じた場合はブザーを消す。
  <div class="answer_box">
    <label for="led_ans1">answer ➡</label>
    <input type="checkbox" id="led_ans1"/>
    <div class="answer_show">  
      <pre><code  class="ruby">
REED_SW = 18
BUZZER = 16
pinMode(BUZZER, 0)
pinMode(REED_SW, 1)
pinPull(REED_SW, 1)
cnt = 0
while  true
  status = digitalRead(REED_SW)
  if(status == 0)
    if(cnt > 5)
      digitalWrite(BUZZER, 1)
    end
    cnt += 1
  else
    digitalWrite(BUZZER, 0)
    cnt = 0
  end
end
      </code></pre>
    </div>
  </div>
</ul>