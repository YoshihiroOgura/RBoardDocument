<!DOCTYPE html>
<html lang="ja">
  <head>
	  <title>チュートリアル - RBoardDocument</title>
    <link rel="shortcut icon" href="./image/bug.ico">
    <meta charset="utf-8"/>
	  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-176702602-1"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'UA-176702602-1');
    </script>
    <link rel="stylesheet" type="text/css" href="main.css" />
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css" integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.2/styles/a11y-dark.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.2/highlight.min.js"></script>
	  <script type="text/javascript" src="./style.js"></script>
	  <link href="https://use.fontawesome.com/releases/v5.11.0/css/all.css" rel="stylesheet">
  </head>
  <body>
    <div id="header"><h1>チュートリアル - 圧電ブザー</h1></div>
    <div id="main">
      <h3>必要部品一覧</h3>
      <ul>
        <li><a href="https://www.switch-science.com/catalog/804/">GROVE圧電ブザー</a></li>
      </ul>
      <hr id="first_boader">
      <h3>圧電ブザーについて</h3>
      圧電ブザーに電圧を加える<br>
      ↓<br>
      内部にある素子が変形する<br>
      ↓<br>
      音(空気の振動)となる<br>
      動作を繰り返す。<br>
      <img src="https://drive.google.com/uc?export=view&id=1xnLZB37qoBWkPCTXMQg7AyCunvjydLh1" class="expansion"><br>
      <hr id="first_boader">
      <h3>電子回路</h3>
      Digitalと記載されているGROVEポートへ接続します。
      <hr id="first_boader">
      <h3>プログラム</h3>
      ブザーを鳴らすプログラム
      <pre><code  class="ruby">
buzzer = GPIO.new(16)
buzzer.setmode(0)
buzzer.write(1)
      </code></pre>
      音階を鳴らすプログラム<br>
      音階:<a href="https://tomari.org/main/java/oto.html">https://tomari.org/main/java/oto.html</a>
      <pre><code  class="ruby">
pwm = PWM.new(16, 4)
# ドの音261Hz～シの音493Hz
scale = [261,293,329,349,391,440,493]
i = 0
while true
  pwm.frequency(scale[i])
  sleep 1
  i = i + 1
  if(i == 7)
    i = 0
  end
end
      </code></pre>
      <hr id="first_boader">
      <h3>例題：</h3>
      <ul>
        <li>一定時間ドアが空いていた場合にブザーを鳴らす。</li>
        閉じた場合はブザーを消す。
        <div class="answer_box">
          <label for="led_ans1">answer ➡</label>
          <input type="checkbox" id="led_ans1"/>
          <div class="answer_show">  
            <pre><code  class="ruby">
# リードスイッチのピン設定
reed_sw = GPIO.new(18)
reed_sw.setmode(0)
reed_sw.pull(1)

# ブザーのピン設定
buzzer = GPIO.new(16)
buzzer.setmode(1)

cnt = 0
while  true
  status = reed_sw.read()
  if(status == 0)
		if(cnt > 5)
			buzzer.write(1)
		end
		cnt += 1
	else
    buzzer.write(0)
		cnt = 0
  end
  sleep(1)
end
            </code></pre>
          </div>
        </div>
      </ul>
    </div>
    </div>
        
    <div id="submenu">
			<script src="contents.js"></script>
      <div id="submenu_header">チュートリアル</div>
      <div id="ruby_class">
        <ol>
          <li><a href="./tutorial_mrubyc.html">mruby/cとは？</a></li>
          <li><a href="./tutorial_led.html">LEDを制御する</a></li>
          <li><a href="./tutorial_rgb_led.html">フルカラーLED</a></li>
          <li><a href="./tutorial_reed_switch.html">ドア開閉センサ</a></li>
          <li><a href="./tutorial_buzzer.html">圧電ブザー</a></li>
          <li><a href="./tutorial_cds.html">光センサ</a></li>
          <li><a href="./tutorial_temp.html">温度センサ</a></li>
        </ol>
      </div>
		</div>
	</body>
</html>