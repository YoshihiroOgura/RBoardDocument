<!DOCTYPE html>
<html lang="ja">
  <head>
		<title>各クラス - RBoardDocument</title>
		<link rel="shortcut icon" href="./image/bug.ico">
		<!-- Global site tag (gtag.js) - Google Analytics -->
		<script async src="https://www.googletagmanager.com/gtag/js?id=UA-176702602-1"></script>
		<script>
			window.dataLayer = window.dataLayer || [];
			function gtag(){dataLayer.push(arguments);}
			gtag('js', new Date());

			gtag('config', 'UA-176702602-1');
		</script>
		<link rel="stylesheet" type="text/css" href="main.css" />
		<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css" integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous">
		<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.2/styles/a11y-dark.min.css">
		<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.2/highlight.min.js"></script>
		<script type="text/javascript" src="./style.js"></script>
		<link href="https://use.fontawesome.com/releases/v5.11.0/css/all.css" rel="stylesheet">
  </head>
	<body>
    <div id="header"><h1> Class </h1></div>
    <div id="main">
			<h2 id="Ruby">Ruby</h2>
			mruby/cにて対応しているRubyのクラスについては下記公式URLをご参照ください。<br>
			<a href="https://www.s-itoc.jp/activity/research/mrubyc/mrubyc_docs/library">
			https://www.s-itoc.jp/activity/research/mrubyc/mrubyc_docs/library</a>
			<hr id="first_boader">
			<h2 id="ADC">ADC</h2>
			<h3 id="ADC_start">start</h3>
			ADCスタート<br>
			<hr id="second_boader">
			<h3 id="ADC_stop">stop</h3>
			ADCストップ<br>
			<hr id="second_boader">
			<h3 id="ADC_read">read</h3>
			取得値整数出力<br>
			戻り値：0～1023(0~3.3V)<br>
			<hr id="second_boader">
			<h3 id="ADC_read_v">read_v</h3>
			取得値電圧出力<br>
			戻り値：0～3.3<br>
			<hr id="second_boader">
			<h3 id="ADC_ch">ch(channel)</h3>
			使用するポート指定<br>
			channel：0～7<br>

			<hr id="first_boader">
			<h2 id="I2C">I2C</h2>
			<h3 id="I2C_write">write(sl_addr, addr, data1, data2,,,,)</h3>
			i2c書き込み<br>
			sl_addr：スレーブのアドレス<br>
			addr：書き込み対象のアドレス<br>
			data：書き込むデータ<br>
			<hr id="second_boader">
			<h3 id="I2C_read">read(sl_addr, addr, size)</h3>
			i2c読み込み<br>
			sl_addr：スレーブのアドレス<br>
			addr：読み込み対象のアドレス<br>
			size：読み込むデータのサイズ<br>

			<hr id="first_boader">
			<h2 id="PWM">PWM</h2>
			<h3 id="PWM_new">new</h3>
			<hr id="second_boader">
			<h3 id="PWM_cycle">cycle(time,double)</h3>
			周期設定<br>
			time：1～65535‬(1=0.1us)<br>
			<form oninput="opt1.value = Math.round(1 / Number(a1.value) * 10000000)">
			1(s)÷
			<input type="number" name="a1" value="0"size="10"placeholder="周波数">
			(Hz)×10000000=
			<output name="opt1">0</output>
			</form>
			double：倍率(0～7)<br>
			<table border="1" class="table">
				<thead class="thead-dark">
					<tr>
						<th scope="col">整数</th>
						<th scope="col">倍率</th>
					</tr>
				</thead>
				<tr>
					<td>0</td>
					<td>1</td>
				</tr>
				<tr>
					<td>1</td>
					<td>2</td>
				</tr>
				<tr>
					<td>2</td>
					<td>4</td>
				</tr>
				<tr>
					<td>3</td>
					<td>8</td>
				</tr>
				<tr>
					<td>4</td>
					<td>16</td>
				</tr>
				<tr>
					<td>5</td>
					<td>32</td>
				</tr>
				<tr>
					<td>6</td>
					<td>64</td>
				</tr>
				<tr>
					<td>7</td>
					<td>256</td>
				</tr>
			</table>
			<hr id="second_boader">
			<h3 id="PWM_rate">rate(p,ch)</h3>
			p：パーセント<br>
			ch：使用チャンネル(1～5)<br>
			<hr id="second_boader">
			<h3 id="PWM_start">start(ch)</h3>
			PWMスタート<br>
			ch：使用チャンネル(1～5)<br>
			<hr id="second_boader">
			<h3 id="PWM_stop">stop(ch)</h3>
			PWMストップ<br>
			ch：使用チャンネル(1～5)<br>
			<hr id="second_boader">
			<h3 id="PWM_pin">pin(pin)</h3>
			使用するPWMpinの指定<br>
			pin(2,12,16,18)<br>
			<table border="1" class="table">
				<thead class="thead-dark">
					<tr>
						<th>ch</th>
						<th>pin</th>
					</tr>
				</thead>
				<tr>
					<td>1</td>
					<td>12</td>
				</tr>
				<tr>
					<td>2</td>
					<td>16</td>
				</tr>
				<tr>
					<td>3</td>
					<td></td>
				</tr>
				<tr>
					<td>4</td>
					<td>18</td>
				</tr>
				<tr>
					<td>5</td>
					<td>2</td>
				</tr>
			</table>

			<hr id="first_boader">
			<h2 id="Timer">Timer</h2>
			<h3 id="Timer_start">start</h3>
			<hr id="second_boader">
			<h3 id="Timer_stop">stop</h3>
			<hr id="second_boader">
			<h3 id="Timer_set">set(time,double)</h3>
			time：1～65535‬(1=0.1us)<br>
			double：整数(倍率)<br>
			<table border="1" class="table">
				<thead class="thead-dark">
					<tr>
						<th>整数</th>
						<th>倍率</th>
					</tr>
				</thead>
				<tr>
					<td>0</td>
					<td>1</td>
				</tr>
				<tr>
					<td>1</td>
					<td>2</td>
				</tr>
				<tr>
					<td>2</td>
					<td>4</td>
				</tr>
				<tr>
					<td>3</td>
					<td>8</td>
				</tr>
				<tr>
					<td>4</td>
					<td>16</td>
				</tr>
				<tr>
					<td>5</td>
					<td>32</td>
				</tr>
				<tr>
					<td>6</td>
					<td>64</td>
				</tr>
				<tr>
					<td>7</td>
					<td>256</td>
				</tr>
			</table>

			<hr id="second_boader">
			<h3 id="Timer_count_clear">count_clear</h3>
			<hr id="second_boader">
			<h3 id="Timer_count_get">count_get</h3>
			戻り値：0～255

			<hr id="first_boader">
			<h2 id="UART">UART</h2>
			<h3 id="UART_new">new(baud)</h3>
			19200を基準としているため、これ以上の値を設定するとかなりデータが欠損する。<br>
			baud：ボーレート値（例：19200）<br>
			<hr id="second_boader">
			<h3 id="UART_gets">gets</h3>
			文字列受信<br>
			<hr id="second_boader">
			<h3 id="UART_puts">puts(text)</h3>
			文字列送信<br>
			text：文字列

			<hr id="second_boader">
			<h3 id="UART_clear_buffer">clear_buffer</h3>
			受信文字列のバッファ初期化(mruby/c2.0)

			<hr id="first_boader">
			<h2 id="Math">Math</h2>
			<a href="https://github.com/YoshihiroOgura/pic32mx170_mrubyc/blob/a0542f4fb76b2f3e1ba6e5078c9e3fc3a7164865/src/c_math.c#L240">
			https://github.com/YoshihiroOgura/pic32mx170_mrubyc/blob/a0542f4fb76b2f3e1ba6e5078c9e3fc3a7164865/src/c_math.c#L240</a>

			<hr id="first_boader">
			<h2 id="ETC">その他</h2>
			<h3 id="leds_write">leds_write(bit)</h3>
			led制御<br>
			bit : 整数<br>
			<table border="1" class="table">
				<thead class="thead-dark">
					<tr>
						<th>led</th>
						<th>10進数</th>
						<th>2進数</th>
					</tr>
				</thead>
				<tr>
					<td>1</td>
					<td>1</td>
					<td>0b0001</td>
				</tr>
				<tr>
					<td>2</td>
					<td>2</td>
					<td>0b0010</td>
				</tr>
				<tr>
					<td>3</td>
					<td>4</td>
					<td>0b0100</td>
				</tr>
				<tr>
					<td>4</td>
					<td>8</td>
					<td>0b1000</td>
				</tr>
			</table>

			<hr id="second_boader">
			<h3 id="sw">sw()</h3>
			スイッチの状態読み込み<br>
			戻り値：0 or 1<br>

			<hr id="second_boader">
			<h3 id="pinMode">pinMode(pin,mode)</h3>
			pin：0～20<br>
			mode：0(出力) or 1(入力)<br>

			<hr id="second_boader">
			<h3 id="pinPull">pinPull(pin,mode)</h3>
			内部抵抗選択(mruby/c2.0)<br>
			pin：0～20<br>
			mode：-1(pull down) or 0(pull無し) or 1(pull up)<br>

			<hr id="second_boader">
			<h3 id="pinInit">pinInit</h3>
			すべてのピン設定を初期状態へ戻す。

			<hr id="second_boader">
			<h3 id="digitalWrite">digitalWrite(pin,mode)</h3>
			pin：0～20<br>
			mode：0(OFF) or 1(ON)<br>

			<hr id="second_boader">
			<h3 id="digitalRead">digitalRead(pin)</h3>
			指定ピンの状態読み込み<br>
			pin：0～20<br>
			戻り値：0(OFF) or 1(ON)<br>

			<hr id="second_boader">
			<h3 id="puts">puts(txt)</h3>
			文字列出力<br>
			ターミナルソフトの設定については<a href="./console.html">こちら</a>
			txt：文字列
		</div>

		<div id="submenu">
			<div id="submenu_header">もくじ</div>
      <ul id="submenu_body">
				<i class="fas fa-home"></i><a href="./index.html">HOME</a>
				<li><details>
					<summary>プログラム書き込み</summary>
					<ul id="subuul">
						<li><a href="./ide_install.html">mruby/c IDEインストール</a></li>
						<li><a href="./write_program.html">PG書き込み</a></li>
					</ul>
				</details></li>
				<li><details>
					<summary>ファームウェアアップデート</summary>
					<ul id="subuul">
						<li><a href="./update.html">アップデート手順</a></li>
					</ul>
				</details></li>
				<li><details>
					<summary>ボードの電気的仕様</summary>
					<ul id="subuul">
					<li><a href="./pin.html">ピン配置等</a></li>
					</ul>
				</details></li>
				<li><details>
					<summary>RBoardにおける各クラス</summary>
					<ul id="subuul">
						<li><a href="./class.html">各クラス</a></li>
						<li><a href="./mrubyc_class.html">mruby/c IO 各クラス</a></li>
					</ul>
				</details></li>
				<li><details>
					<summary>サンプルプログラム</summary>
					<ul id="subuul">
						<li><a href="./adc.html">ADCサンプル</a></li>
						<li><a href="./i2c.html">I2Cサンプル</a></li>
						<li><a href="./pwm.html">PWMサンプル</a></li>
						<li><a href="./uart.html">UARTサンプル</a></li>
						<li><a href="./etc.html">その他サンプル</a></li>
					</ul>
				</details></li>
				<li><details>
					<summary>その他</summary>
					<ul id="subuul">
						<li><a href="./sensor_module.html">対応センサーモジュール</a></li>
						<li><a href="./console.html">ターミナルソフトの設定</a></li>
					</ul>
				</details></li>
				<li><details>
          <summary>チュートリアル</summary>
          <ol id="subuol">
						<li><a href="./tutorial_mrubyc.html">mruby/cとは？</a></li>
						<li><a href="./tutorial_led.html">LEDを制御する</a></li>
						<li><a href="./tutorial_rgb_led.html">フルカラーLED</a></li>
						<li><a href="./tutorial_reed_switch.html">ドア開閉センサ</a></li>
						<li><a href="./tutorial_buzzer.html">圧電ブザー</a></li>
						<li><a href="./tutorial_cds.html">光センサ</a></li>
						<li><a href="./tutorial_temp.html">温度センサ</a></li>
          </ol>
        </details></li>
			</ul>

			<div id="submenu_header">Class</div>
			<div id="ruby_class">
				<details>
					<summary><a href="#Ruby">Ruby</a></summary>
				</details>
				<details>
					<summary><a href="#ADC">ADC</a></summary>
					<ul id="class_ul">
						<li><a href="#ADC_start">start</a></li>
						<li><a href="#ADC_stop">stop</a></li>
						<li><a href="#ADC_read">read</a></li>
						<li><a href="#ADC_read_v">read_v</a></li>
						<li><a href="#ADC_ch">ch</a></li>
					</ul>
				</details>
				</details>
				<details>
					<summary><a href="#I2C">I2C</a></summary>
					<ul id="class_ul">
						<li><a href="#I2C_write">write</a></li>
						<li><a href="#I2C_read">read</a></li>
					</ul>
				</details>
				<details>
					<summary><a href="#PWM">PWM</a></summary>
					<ul id="class_ul">
						<li><a href="#PWM_new">new</a></li>
						<li><a href="#PWM_cycle">cycle</a></li>
						<li><a href="#PWM_rate">rate</a></li>
						<li><a href="#PWM_start">start</a></li>
						<li><a href="#PWM_stop">stop</a></li>
						<li><a href="#PWM_pin">pin</a></li>
					</ul>
				</details>
				<details>
					<summary><a href="#Timer">Timer</a></summary>
					<ul id="class_ul">
						<li><a href="#Timer_start">start</a></li>
						<li><a href="#Timer_stop">stop</a></li>
						<li><a href="#Timer_set">set</a></li>
						<li><a href="#Timer_count_clear">count_clear</a></li>
						<li><a href="#Timer_count_get">count_get</a></li>
					</ul>
				</details>
				<details>
					<summary><a href="#UART">UART</a></summary>
					<ul id="class_ul">
						<li><a href="#UART_new">new</a></li>
						<li><a href="#UART_gets">gets</a></li>
						<li><a href="#UART_puts">puts</a></li>
						<li><a href="#UART_clear_buffer">clear_buffer</a></li>
					</ul>
				</details>
				<details>
					<summary><a href="#Math">Math</a></summary>
				</details>
				<details>
					<summary><a href="#ETC">その他</a></summary>
					<ul id="class_ul">
						<li><a href="#leds_write">leds_write</a></li>
						<li><a href="#sw">sw</a></li>
						<li><a href="#pinMode">pinMode</a></li>
						<li><a href="#pinPull">pinPull</a></li>
						<li><a href="#pinInit">pinInit</a></li>
						<li><a href="#digitalWrite">digitalWrite</a></li>
						<li><a href="#digitalRead">digitalRead</a></li>
						<li><a href="#puts">puts</a></li>
					</ul>
				</details>
			</div>
			<a href="https://www.rubyworld-conf.org/" target="_blank"><img src="rwc2020_banner_a02.png"></a>
    </div>
	</body>
</html>
